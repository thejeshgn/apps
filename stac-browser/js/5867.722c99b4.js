"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[5867],{53653:function(t,e,s){s.d(e,{A:function(){return A}});var r=function(){var t=this,e=t._self._c;return t.href?e("b-button-group",{staticClass:"actions",attrs:{vertical:t.vertical,size:t.size}},[t.isBrowserProtocol&&t.isAsset?e("b-button",{attrs:{href:t.href,target:"_blank",variant:"primary"}},[t.browserCanOpenFile?e("b-icon-box-arrow-up-right"):e("b-icon-download"),t._v(" "+t._s(t.buttonText)+" ")],1):t._e(),e("CopyButton",{attrs:{variant:"primary",copyText:t.href}},[t._v(" "+t._s(t.copyButtonText)+" ")]),t.isAsset&&t.canShow&&!t.shown?e("b-button",{attrs:{variant:"primary"},on:{click:t.show}},[e("b-icon-eye",{staticClass:"mr-1"}),t.isThumbnail?[t._v(t._s(t.$t("assets.showThumbnail")))]:[t._v(t._s(t.$t("assets.showOnMap")))]],2):t._e(),t._l(t.actions,(function(s){return e("b-button",t._b({key:s.id,attrs:{variant:"primary"},on:{click:s.onClick}},"b-button",s.btnOptions,!1),[s.icon?e(s.icon,{tag:"component",staticClass:"mr-1"}):t._e(),t._v(" "+t._s(s.text)+" ")],1)}))],2):t._e()},i=[],o=s(82948),n=s(41526),a=s(31831),l=s(2566),c=s(95353),h=s(84193),u=s.n(h);class p{constructor(t,e){this.id=t,this.component=e}get btnOptions(){let t;return this.uri instanceof u()?t=this.uri.toString():"string"===typeof this.uri&&(t=this.uri),t?{href:t,target:"_blank"}:{}}get onClick(){return()=>{}}get uri(){return null}get show(){return!1}get icon(){return o.hNP}}class f extends p{constructor(t,e,s){super(s,e),this.asset=t}}var d=s(48907);class m extends f{get show(){return this.component.isBrowserProtocol&&"application/vnd.laszip+copc"===this.asset.type}get uri(){let t=new(u())("https://viewer.copc.io");return t.addQuery("copc",this.component.href),t}get text(){return d.Ay.t("actions.openIn",{service:"copc.io"})}}class b extends f{get show(){return this.component.isBrowserProtocol&&l.oV==this.asset.type}get uri(){let t=new(u())("https://geojson.io");return t.addQuery("data",`text/x-url,${this.component.href}`),t}get text(){return d.Ay.t("actions.openIn",{service:"geojson.io"})}}var g={CopcViewer:m,GeoJsonIo:b},y={},w={name:"HrefActions",components:{BIconBoxArrowUpRight:o.hNP,BIconDownload:o.AXN,BIconEye:o.bL_,CopyButton:()=>Promise.resolve().then(s.bind(s,22356)),Description:n["default"],Metadata:()=>Promise.all([s.e(537),s.e(4870),s.e(5428)]).then(s.bind(s,75428))},props:{data:{type:Object,required:!0},isAsset:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},size:{type:String,default:"md"},shown:{type:Boolean,default:!1}},computed:{...(0,c.L8)(["getRequestUrl"]),actions(){return Object.entries(this.isAsset?g:y).map((([t,e])=>new e(this.data,this,t))).filter((t=>t.show))},canShow(){return"string"===typeof this.data.type&&(!("server"!==this.tileRendererType||!l.df.includes(this.data.type))||(!this.isGdalVfs||"client"!==this.tileRendererType)&&(!!this.isBrowserProtocol&&!!l.C8.includes(this.data.type)))},protocol(){if("string"===typeof this.href&&this.href){let t=this.href.match(/^(\w+):\/\//);if(t)return t[1].toLowerCase()}return null},isBrowserProtocol(){return!this.protocol&&!this.isGdalVfs||l.I5.includes(this.protocol)},isThumbnail(){return this.isAsset?Array.isArray(this.data.roles)&&this.data.roles.includes("thumbnail")&&!this.data.roles.includes("overview"):"preview"===this.data.rel&&l.Ay.canBrowserDisplayImage(this.data)},isGdalVfs(){return l.Ay.isGdalVfsUri(this.href)},href(){if("string"!==typeof this.data.href)return null;let t=null;return this.context instanceof a.A&&(t=this.context.getAbsoluteUrl()),this.getRequestUrl(this.data.href,t)},from(){if(this.isGdalVfs){let t=this.href.match(/^\/vsi([a-z\d]+)(_streaming)?\//);return this.protocolName(t,this.href)}return this.protocolName(this.protocol,this.href)},browserCanOpenFile(){if(this.isGdalVfs)return!1;if(l.Ay.canBrowserDisplayImage(this.data))return!0;if("string"===typeof this.data.type)switch(this.data.type.toLowerCase()){case"text/html":case"application/xhtml+xml":case"text/plain":case"application/pdf":return!0}return!1},buttonText(){if(this.browserCanOpenFile&&this.isBrowserProtocol)return this.$t("open");let t=!this.isBrowserProtocol&&this.from?"withSource":"generic";return this.$t(`assets.download.${t}`,{source:this.from})},copyButtonText(){let t=this.isGdalVfs?"copyGdalVfsUrl":"copyUrl",e=!this.isBrowserProtocol&&this.from?"withSource":"generic";return this.$t(`assets.${t}.${e}`,{source:this.from})}},methods:{protocolName(t,e=null){if("string"!==typeof t)return"";switch(t.toLowerCase()){case"s3":if(e)try{const t=new(u())(e),s=`protocol.s3.${t.domain()}`;if(this.$te(s))return this.$t(s)}catch(s){}return this.$t("protocol.s3.default");case"abfs":case"abfss":return this.$t("protocol.azure");case"gcs":return this.$t("protocol.gcs");case"ftp":return this.$t("protocol.ftp");case"oss":return this.$t("protocol.oss");case"file":return this.$t("protocol.file")}return""},show(){let t=Object.assign({},this.data);this.isGdalVfs||(t.href=this.href),this.$emit("show",t,this.id,this.isThumbnail)}}},k=w,_=s(81656),v=(0,_.A)(k,r,i,!1,null,null,null),A=v.exports},25867:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var r=function(){var t=this,e=t._self._c;return e("section",{staticClass:"links mb-4"},[t.title?e("h2",[t._v(t._s(t.title))]):t._e(),t.hasGroups?t._l(t.groups,(function(s){return e("div",{key:s.rel,staticClass:"group"},[s.rel?e("h4",[t._v(t._s(s.label))]):t._e(),e("ul",t._l(s.links,(function(s,r){return e("Link",{key:r,attrs:{link:s,fallbackTitle:()=>t.fallbackTitle(s)}})})),1)])})):e("ul",t._l(t.links,(function(s,r){return e("Link",{key:r,attrs:{link:s,fallbackTitle:()=>t.fallbackTitle(s)}})})),1)],2)},i=[],o=(s(44114),function(){var t=this,e=t._self._c;return e("li",{staticClass:"link"},[e("StacLink",{staticClass:"pr-1",attrs:{id:t.popoverId,data:t.link,fallbackTitle:t.fallbackTitle}}),e("b-popover",{attrs:{target:t.popoverId,triggers:"hover",placement:"right",container:"#stac-browser","custom-class":"link-more"}},[t.link.description?e("Description",{attrs:{description:t.link.description,compact:""}}):t._e(),e("section",{staticClass:"link-actions"},[e("h3",{staticClass:"first"},[t._v(t._s(t.$t("additionalActions")))]),e("HrefActions",{attrs:{vertical:"",data:t.link,size:"sm"}})],1),e("Metadata",{attrs:{data:t.link,type:"Link",headerTag:"h3",ignoreFields:t.ignore}})],1)],1)}),n=[],a=s(53653),l=s(58581),c=s(30278);let h=0;var u={name:"Link",components:{BPopover:c.u,HrefActions:a.A,StacLink:l["default"],Description:()=>Promise.resolve().then(s.bind(s,41526)),Metadata:()=>s.e(3047).then(s.bind(s,75428))},props:{link:{type:Object,required:!0},fallbackTitle:{type:Function,required:!0}},data(){return{ignore:["href","type","rel","title","description"]}},computed:{popoverId(){return"popover-link-"+h}},beforeCreate(){h++}},p=u,f=s(81656),d=(0,f.A)(p,o,n,!1,null,null,null),m=d.exports,b=s(74870),g=s(55288),y=s(59203),w=s(2566),k=s(48907),_=s(95353),v={name:"Links",components:{Link:m},props:{title:{type:String,default:null},links:{type:Array,default:()=>[]}},computed:{...(0,_.aH)(["uiLanguage"]),groups(){let t=this.links.reduce(((t,e)=>{let s="string"===typeof e.rel?e.rel.toLowerCase():"";return s in t?t[s].links.push(e):t[s]={rel:s,label:this.formatRel(s),links:[e]},t}),{});return Object.values(t).sort(((t,e)=>t.label.localeCompare(e.label,this.uiLanguage)))},hasGroups(){return this.groups.some((t=>t.rel.length>0&&t.links.length>=2))}},methods:{formatRel(t){let e="string"===typeof t?t.toLowerCase():"";return e in b.Fields.links.rel.mapping?(0,k._)(b.Fields.links.rel.mapping[e]):(t.startsWith(y.dL)&&(t=t.substr(y.dL.length)),(0,g.formatKey)(t))},fallbackTitle(t){let e=w.Ay.titleForHref(t.href);if(this.hasGroups)return e;{let s=this.formatRel(t.rel);return`${s}: ${e}`}}}},A=v,C=(0,f.A)(A,r,i,!1,null,null,null),x=C.exports}}]);
//# sourceMappingURL=5867.722c99b4.js.map